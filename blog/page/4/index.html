
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Hank Beaver</title>
  <meta name="author" content="Hank Beaver">

  
  <meta name="description" content="wget -r -p -U Mozilla http://www.modrails.com/documentation/Users%20guide.html
">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://blasterpal.github.com/blog/page/4">
  <link href="/favicon.ico" rel="icon">
  
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Hank Beaver" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  

</head>

<body   class="no-sidebar"  >
  <header role="banner"><hgroup>
  <h1>Hank Beaver</h1>
  
    <h2><a href="/">hb</a></h2>
  
</hgroup>

</header>
  <nav role="navigation">
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blasterpal.github.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/11/30/using-wget-like-a-web-crawleroffline-downloader/">Using Wget Like a Web Crawler/offline Downloader</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-30T04:25:24-05:00" pubdate data-updated="true">Nov 30<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>wget  -r -p -U Mozilla http://www.modrails.com/documentation/Users%20guide.html</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/11/17/using-gem-dependencies-with-rspec-bad/">Using Gem Dependencies With Rspec == BAD ! !</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-11-17T06:29:42-05:00" pubdate data-updated="true">Nov 17<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>We had an issue the last couple of weeks on a new Rails project we started here at my gig. All Rails exceptions were quietly logged without showing any stack trace to browser. This was very annoying. Secondly, the RAILS_ENV was reported as &#8220;test&#8221;. mmmm, very suspicious. After some investigation I found the culprit on rails.rb line #1 of rails-rspec gem installed in our vendor dir:</p>

<p>silence_warnings { RAILS_ENV = &#8220;test&#8221; }</p>

<p>Take a look at this to get a little context:</p>

<p>http://ryandaigle.com/articles/2008/4/1/what-s-new-in-edge-rails-gem-dependencies</p>

<p>How can rspec affect your actual Rails environment, script/server, script/console, script/about? I&#8217;ll show you. enter our environment.rb:</p>

<p>config.gem &#8216;rspec-rails&#8217;,
:version => &#8216;>= 1.1.11&#8217;, :lib => &#8216;spec/rails&#8217;
config.gem &#8216;rspec&#8217;,
:version => &#8216;>= 1.1.11&#8217;, :lib => &#8216;spec&#8217;</p>

<p>Aha! So effectively, by including our gems here too (and gaining the added benefits noted above at ryandaigle.com )rather than simply in our spec_helper, we replaced our RAILS_ENV and invoked the Rails equivalent of an exception black hole.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/10/28/how-to-find-a-date-in-past-in-mysql/">How to Find a Date in Past in Mysql</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-10-28T09:12:28-04:00" pubdate data-updated="true">Oct 28<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>SELECT SUBDATE(NOW(),INTERVAL 1 HOUR);</p>

<p>SELECT SUBDATE(NOW(),INTERVAL 1 DAY);</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/10/02/where-the-heck-is-my-profile-on-westhost/">Where the Heck Is My .profile on Westhost?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-10-02T02:57:21-04:00" pubdate data-updated="true">Oct 2<span>nd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>~/.bash_profile does not work.</p>

<p>It&#8217;s actually /.bashrc.</p>

<p>So for me. I do this:</p>

<pre><code>ln -s /.bashrc ~/.bash_profile
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/09/24/my-software-mantra/">My Software Mantra&#8230;</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-09-24T10:45:50-04:00" pubdate data-updated="true">Sep 24<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>See this:</p>

<p><a href="http://1000fires.com/wordpress/?page_id=46">My Software Mantras</a></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/09/18/using-ruby-to-move-subversion-folders-and-files/">Using Ruby to Move Subversion Folders and Files.</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-09-18T03:15:36-04:00" pubdate data-updated="true">Sep 18<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I want to move all files in this svn dir:</p>

<pre><code>svn list http://svn.atld1/svn-prodops/sysadmin
</code></pre>

<p>to:</p>

<pre><code>svn list http://svn.atld1/svn-prodops/sysadmin/scripts
</code></pre>

<p>Doing svn mv would see obvious and using xargs or -exec might work. I prefer not to use any brain energy on a shell script. I just do it in ruby in 5 minutes:</p>

<pre><code>svn list http://svn.atld1/svn-prodops/sysadmin &gt; /tmp/script.list
</code></pre>

<p>Write this to a ruby file:</p>

<pre><code>f = File.open("/tmp/script.list")




f.each_line {|line|




cmd = "svn mv http://svn.atld1/svn-prodops/sysadmin/#{line.strip}
http://svn.atld1/svn-prodops/sysadmin/scripts/ -m
\"moving #{line} to scripts \" "




puts "running: #{cmd}"
`#{cmd}"




}
</code></pre>

<p>Now execute the file above after double checking. Viola done even with relevant comments for each move!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/09/17/my-passenger-config-example/">My Passenger Config Example.</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-09-17T07:22:56-04:00" pubdate data-updated="true">Sep 17<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Passenger (a.k.a mod_rails) is getting some buzz (google it). Looking at the below config and the fact that deployments are automatic from Web Server with a simple file touch.</p>

<p>In http.conf:</p>

<pre><code>LoadModule passenger_module /usr/lib64/ruby/gems/1.8/gems/passenger-2.0.3/ext/apache2/mod_passenger.so
PassengerRoot /usr/lib64/ruby/gems/1.8/gems/passenger-2.0.3
PassengerRuby /usr/bin/ruby




&lt;VirtualHost *:80&gt;
ServerName vwebadm11.atlis1
#DocumentRoot /var/www/apps/html
DocumentRoot /var/www/apps/provisioning_webservices/current/public
ErrorLog logs/prodops_errors_log
CustomLog logs/prodops_log combined
#RailsBaseURI /prov_websvc         # Passenger Rails link
RailsEnv test
&lt;/VirtualHost&gt;




&lt;Directory "/var/www/apps/provisioning_webservices/current/public"&gt;
Options FollowSymLinks
AllowOverride None
Order allow,deny
Allow from all
&lt;/Directory&gt;
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/09/02/calling-initialize-in-activerecord-model-causes-nilhas_keys-error/">Calling Initialize in ActiveRecord Model Causes nil.has_keys? Error.</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-09-02T03:24:35-04:00" pubdate data-updated="true">Sep 2<span>nd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>When instantiating a model class this error occurs:</p>

<pre><code>instance = MyModel.new




NoMethodError: You have a nil object when you didn't expect it!




The error occurred while evaluating nil.has_key?
</code></pre>

<p>This is rectified by placing a <strong>super</strong> within model class.</p>

<pre><code>def initialize




super




logger.debug("initialize VirtualMta: #{self.class}")




end
</code></pre>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/08/22/running-finder-as-root-on-osx-to-solve-app-install-issues/">Running Finder as Root on OSX - to Solve App Install Issues</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-08-22T07:28:07-04:00" pubdate data-updated="true">Aug 22<span>nd</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><blockquote><p>open terminal
sudo sh
killall Finder
/System/Library/CoreServices/Finder.app/Contents/MacOS/Finder</p></blockquote>

<p>Why? I&#8217;ve found sometimes certain applications require root to run/install. Office 2004 and an HP Officejet software are two examples.</p>

<p>UPDATE: Realize this <em>may</em> bork your login/session after this and you are likely going to want to reboot.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/07/30/otp-based-sudo-with-per-process-restrictions/">&#8216;OTP&#8217; Based Sudo, With Per Process Restrictions.</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-07-30T13:05:08-04:00" pubdate data-updated="true">Jul 30<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>Is it possible to audit Unix/Linux server root access per task and on temporary basis?</strong></p>

<p>Yes.</p>

<p>Years ago I wrote a &#8216;sudo&#8217; equivalent in W32, but with a big twist. It was called &#8220;RunAuth&#8221;. It used the API &#8220;run as&#8221; mechanisms. It gave admin access based on an OTP (http://en.wikipedia.org/wiki/One_time_password). The OTP was NOT automatic. The person had to call the helpdesk to get a code. It was based on a shared secret and MD5. Secondly, the code provided  defined the exact process that could be executed by the RunAuth client.</p>

<p><strong>Use Case:</strong>
Field Sales Person wants to install a new HP Printer. User does NOT have local admin. How to install a printer driver without shipping computer to IT?</p>

<p><strong>Solution:</strong>
Start RunAuth, choose install printer driver, a challenge code is presented. Tell the IT person over the phone the code. They provide a response that immediately executes the install printer wizard as admin. The actual MD5 signature of the DLL or EXE is also validated before running to ensure no trojan or backdoor is created. Upon completion of task, the machine logs out the user or requires reboot.</p>

<p><strong>Point:</strong>
The same can be accomplished in Linux.
Think of sudo with one time password access. Why is this important? Because that means admins don&#8217;t have single control over root access. It requires &#8220;dual&#8221; access. Someone else who is not an admin, has to consent to the changes or stated objective to provide the admin a one time sudo password. So if the automated provisioning cannot handle a task or an emergency occurs, there is still a regimented procedure to perform ad hoc tasks,but there is change control enforced at the OS.</p>

<p>I&#8217;d like to have opinions?</p>

<p>H</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/5/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/3/">Newer &rarr;</a>
    
  </div>
</div>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Hank Beaver -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  



<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>



  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
